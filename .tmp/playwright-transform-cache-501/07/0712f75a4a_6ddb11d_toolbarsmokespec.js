"use strict";

var _test = require("@playwright/test");
var _helpers = require("./helpers");
(0, _test.test)("距離/サイズ/メニューのスモーク（堅牢版）", async ({
  page
}) => {
  await (0, _helpers.waitDemoReady)(page);
  await (0, _helpers.dump)(page, "toolbar-smoke-after-ready");

  // 距離
  const beforeDist = await (0, _helpers.readLocalStorage)(page, "travoru.demo.ui.dist");
  const pressedBefore = await (0, _helpers.readDistancePressed)(page);
  await (0, _helpers.toggleDistance)(page);
  const afterDist = await (0, _helpers.readLocalStorage)(page, "travoru.demo.ui.dist");
  const pressedAfter = await (0, _helpers.readDistancePressed)(page);
  (0, _test.expect)(afterDist !== beforeDist || pressedAfter !== pressedBefore).toBeTruthy();
  // 表示の大きさ
  const beforeDensity = await (0, _helpers.readLocalStorage)(page, "travoru.demo.ui.density");
  const vBefore = await (0, _helpers.readVariant)(page);
  await (0, _helpers.toggleSize)(page);
  const afterDensity = await (0, _helpers.readLocalStorage)(page, "travoru.demo.ui.density");
  const vAfter = await (0, _helpers.readVariant)(page);
  (0, _test.expect)(afterDensity !== beforeDensity || vAfter !== vBefore).toBeTruthy();
  // メニュー
  const opened = await (0, _helpers.openMenu)(page);
  (0, _test.expect)(opened).toBeTruthy();
  const panel = page.getByTestId("menu-panel");
  await (0, _test.expect)(panel).toBeVisible();
  await page.mouse.click(0, 0);
  await (0, _test.expect)(panel).toBeHidden();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdGVzdCIsInJlcXVpcmUiLCJfaGVscGVycyIsInRlc3QiLCJwYWdlIiwid2FpdERlbW9SZWFkeSIsImR1bXAiLCJiZWZvcmVEaXN0IiwicmVhZExvY2FsU3RvcmFnZSIsInByZXNzZWRCZWZvcmUiLCJyZWFkRGlzdGFuY2VQcmVzc2VkIiwidG9nZ2xlRGlzdGFuY2UiLCJhZnRlckRpc3QiLCJwcmVzc2VkQWZ0ZXIiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5IiwiYmVmb3JlRGVuc2l0eSIsInZCZWZvcmUiLCJyZWFkVmFyaWFudCIsInRvZ2dsZVNpemUiLCJhZnRlckRlbnNpdHkiLCJ2QWZ0ZXIiLCJvcGVuZWQiLCJvcGVuTWVudSIsInBhbmVsIiwiZ2V0QnlUZXN0SWQiLCJ0b0JlVmlzaWJsZSIsIm1vdXNlIiwiY2xpY2siLCJ0b0JlSGlkZGVuIl0sInNvdXJjZXMiOlsidG9vbGJhci1zbW9rZS5zcGVjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRlc3QsIGV4cGVjdCB9IGZyb20gXCJAcGxheXdyaWdodC90ZXN0XCI7XG5pbXBvcnQgdHlwZSB7IFBhZ2UgfSBmcm9tIFwiQHBsYXl3cmlnaHQvdGVzdFwiO1xuaW1wb3J0IHtcbiAgd2FpdERlbW9SZWFkeSxcbiAgcmVhZExvY2FsU3RvcmFnZSxcbiAgb3Blbk1lbnUsXG4gIHRvZ2dsZURpc3RhbmNlLFxuICB0b2dnbGVTaXplLFxuICBkdW1wLFxuICBtZW51UGFuZWxMb2NhdG9yLFxuICByZWFkVmFyaWFudCxcbiAgcmVhZERpc3RhbmNlUHJlc3NlZCxcbiAgY2xvc2VNZW51LFxufSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5cbnRlc3QoXCLot53pm6Iv44K144Kk44K6L+ODoeODi+ODpeODvOOBruOCueODouODvOOCr++8iOWgheeJoueJiO+8iVwiLCBhc3luYyAoeyBwYWdlIH0pID0+IHtcbiAgYXdhaXQgd2FpdERlbW9SZWFkeShwYWdlIGFzIFBhZ2UpO1xuICBhd2FpdCBkdW1wKHBhZ2UgYXMgUGFnZSwgXCJ0b29sYmFyLXNtb2tlLWFmdGVyLXJlYWR5XCIpO1xuXG4gIC8vIOi3nembolxuICBjb25zdCBiZWZvcmVEaXN0ID0gYXdhaXQgcmVhZExvY2FsU3RvcmFnZShwYWdlLCBcInRyYXZvcnUuZGVtby51aS5kaXN0XCIpO1xuICBjb25zdCBwcmVzc2VkQmVmb3JlID0gYXdhaXQgcmVhZERpc3RhbmNlUHJlc3NlZChwYWdlIGFzIFBhZ2UpO1xuICBhd2FpdCB0b2dnbGVEaXN0YW5jZShwYWdlIGFzIFBhZ2UpO1xuICBjb25zdCBhZnRlckRpc3QgPSBhd2FpdCByZWFkTG9jYWxTdG9yYWdlKHBhZ2UsIFwidHJhdm9ydS5kZW1vLnVpLmRpc3RcIik7XG4gIGNvbnN0IHByZXNzZWRBZnRlciA9IGF3YWl0IHJlYWREaXN0YW5jZVByZXNzZWQocGFnZSBhcyBQYWdlKTtcbiAgZXhwZWN0KGFmdGVyRGlzdCAhPT0gYmVmb3JlRGlzdCB8fCBwcmVzc2VkQWZ0ZXIgIT09IHByZXNzZWRCZWZvcmUpLnRvQmVUcnV0aHkoKTtcbiAgLy8g6KGo56S644Gu5aSn44GN44GVXG4gIGNvbnN0IGJlZm9yZURlbnNpdHkgPSBhd2FpdCByZWFkTG9jYWxTdG9yYWdlKHBhZ2UsIFwidHJhdm9ydS5kZW1vLnVpLmRlbnNpdHlcIik7XG4gIGNvbnN0IHZCZWZvcmUgPSBhd2FpdCByZWFkVmFyaWFudChwYWdlIGFzIFBhZ2UpO1xuICBhd2FpdCB0b2dnbGVTaXplKHBhZ2UgYXMgUGFnZSk7XG4gIGNvbnN0IGFmdGVyRGVuc2l0eSA9IGF3YWl0IHJlYWRMb2NhbFN0b3JhZ2UocGFnZSwgXCJ0cmF2b3J1LmRlbW8udWkuZGVuc2l0eVwiKTtcbiAgY29uc3QgdkFmdGVyID0gYXdhaXQgcmVhZFZhcmlhbnQocGFnZSBhcyBQYWdlKTtcbiAgZXhwZWN0KGFmdGVyRGVuc2l0eSAhPT0gYmVmb3JlRGVuc2l0eSB8fCB2QWZ0ZXIgIT09IHZCZWZvcmUpLnRvQmVUcnV0aHkoKTtcbiAgLy8g44Oh44OL44Ol44O8XG4gIGNvbnN0IG9wZW5lZCA9IGF3YWl0IG9wZW5NZW51KHBhZ2UgYXMgUGFnZSk7XG4gIGV4cGVjdChvcGVuZWQpLnRvQmVUcnV0aHkoKTtcbiAgY29uc3QgcGFuZWwgPSBwYWdlLmdldEJ5VGVzdElkKFwibWVudS1wYW5lbFwiKTtcbiAgYXdhaXQgZXhwZWN0KHBhbmVsKS50b0JlVmlzaWJsZSgpO1xuICBhd2FpdCBwYWdlLm1vdXNlLmNsaWNrKDAsIDApO1xuICBhd2FpdCBleHBlY3QocGFuZWwpLnRvQmVIaWRkZW4oKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLEtBQUEsR0FBQUMsT0FBQTtBQUVBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQWFBLElBQUFFLFVBQUksRUFBQyx1QkFBdUIsRUFBRSxPQUFPO0VBQUVDO0FBQUssQ0FBQyxLQUFLO0VBQ2hELE1BQU0sSUFBQUMsc0JBQWEsRUFBQ0QsSUFBWSxDQUFDO0VBQ2pDLE1BQU0sSUFBQUUsYUFBSSxFQUFDRixJQUFJLEVBQVUsMkJBQTJCLENBQUM7O0VBRXJEO0VBQ0EsTUFBTUcsVUFBVSxHQUFHLE1BQU0sSUFBQUMseUJBQWdCLEVBQUNKLElBQUksRUFBRSxzQkFBc0IsQ0FBQztFQUN2RSxNQUFNSyxhQUFhLEdBQUcsTUFBTSxJQUFBQyw0QkFBbUIsRUFBQ04sSUFBWSxDQUFDO0VBQzdELE1BQU0sSUFBQU8sdUJBQWMsRUFBQ1AsSUFBWSxDQUFDO0VBQ2xDLE1BQU1RLFNBQVMsR0FBRyxNQUFNLElBQUFKLHlCQUFnQixFQUFDSixJQUFJLEVBQUUsc0JBQXNCLENBQUM7RUFDdEUsTUFBTVMsWUFBWSxHQUFHLE1BQU0sSUFBQUgsNEJBQW1CLEVBQUNOLElBQVksQ0FBQztFQUM1RCxJQUFBVSxZQUFNLEVBQUNGLFNBQVMsS0FBS0wsVUFBVSxJQUFJTSxZQUFZLEtBQUtKLGFBQWEsQ0FBQyxDQUFDTSxVQUFVLENBQUMsQ0FBQztFQUMvRTtFQUNBLE1BQU1DLGFBQWEsR0FBRyxNQUFNLElBQUFSLHlCQUFnQixFQUFDSixJQUFJLEVBQUUseUJBQXlCLENBQUM7RUFDN0UsTUFBTWEsT0FBTyxHQUFHLE1BQU0sSUFBQUMsb0JBQVcsRUFBQ2QsSUFBWSxDQUFDO0VBQy9DLE1BQU0sSUFBQWUsbUJBQVUsRUFBQ2YsSUFBWSxDQUFDO0VBQzlCLE1BQU1nQixZQUFZLEdBQUcsTUFBTSxJQUFBWix5QkFBZ0IsRUFBQ0osSUFBSSxFQUFFLHlCQUF5QixDQUFDO0VBQzVFLE1BQU1pQixNQUFNLEdBQUcsTUFBTSxJQUFBSCxvQkFBVyxFQUFDZCxJQUFZLENBQUM7RUFDOUMsSUFBQVUsWUFBTSxFQUFDTSxZQUFZLEtBQUtKLGFBQWEsSUFBSUssTUFBTSxLQUFLSixPQUFPLENBQUMsQ0FBQ0YsVUFBVSxDQUFDLENBQUM7RUFDekU7RUFDQSxNQUFNTyxNQUFNLEdBQUcsTUFBTSxJQUFBQyxpQkFBUSxFQUFDbkIsSUFBWSxDQUFDO0VBQzNDLElBQUFVLFlBQU0sRUFBQ1EsTUFBTSxDQUFDLENBQUNQLFVBQVUsQ0FBQyxDQUFDO0VBQzNCLE1BQU1TLEtBQUssR0FBR3BCLElBQUksQ0FBQ3FCLFdBQVcsQ0FBQyxZQUFZLENBQUM7RUFDNUMsTUFBTSxJQUFBWCxZQUFNLEVBQUNVLEtBQUssQ0FBQyxDQUFDRSxXQUFXLENBQUMsQ0FBQztFQUNqQyxNQUFNdEIsSUFBSSxDQUFDdUIsS0FBSyxDQUFDQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztFQUM1QixNQUFNLElBQUFkLFlBQU0sRUFBQ1UsS0FBSyxDQUFDLENBQUNLLFVBQVUsQ0FBQyxDQUFDO0FBQ2xDLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==